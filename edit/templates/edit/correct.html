{% extends "navi_base.html" %}
{% load i18n %}

{% load staticfiles %}

{% block nav_buttons_out %}
{% include "nav_buttons.html" with out=True %}
{% endblock %}

{% block nav_buttons_in %}
{% include "nav_buttons.html" with out=False %}
{% endblock %}

{% block content %}

<link href="{% static "css/correct.css" %}" rel="stylesheet">

<div class="container">
    <div class="row">
        <h1>
            {% trans "Correction Interface, Line by Line (working title)" %}
        </h1>
	</div>
    <div class="row row-centered">
		<div class="col-md-3">		
	    	<a class="scroll-up" href="#">scroll up </a><a class="scroll-down" href="#">scroll down</a> (dragging with the mouse works too)
		</div>
	    <div class="col-md-3">
	    	<a class="zoom-in" href="#">zoom in </a><a class="zoom-out" href="#">zoom out</a>  (scrolling with the mouse also works)
		</div>
	    <div class="col-md-3">
			<div id="message"></div>
		</div>
		<div class="col-md-3">
			<a href="#" class="btn btn-primary" data-target="#saveChanges">{% trans "Save changes" %}</a>
		</div>
	</div>
	<div class="transcript-div">
		<div class="transcript-map-div">

		<map name="transcriptMap" id="transcriptMap">
			{% for line in lines %} {# TODO Use key instead of href in the scripts... #}
					<area line-key="{{ line|get_item:"id"}}"  href="{{ line|get_item:"id"}}"  shape="poly" coords="{{line|get_item:"crop"|coords_for_imagemap}}" >
			{% endfor %}
		</map>
		<img src="{{imageUrl}}" usemap="#transcriptMap"  id="transcriptImage" class="transcript-img">
		</div>
	</div>
</div>
 
{% include "edit/correct_modal.html" %}
{% include "edit/correct_js.html" %}
 
{% endblock %}