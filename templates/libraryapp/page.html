{% extends "navi_base.html" %}
{% load staticfiles %}
{% load library_tags %}

{% block nav_buttons_out %}
{% include "libraryapp/nav_buttons.html" with out=True %}
{% endblock %}

{% block nav_buttons_in %}
{% include "libraryapp/nav_buttons.html" with out=False %}
{% endblock %}

{% block content %}


    <!-- Page Content -->
    <div class="container">

        <!-- row 1 -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    Page view
                </h1>
	    </div>
            <div class="col-md-12 expandable">
		<dl class="dl-horizontal">
		<dt>ID</dt><dd>{{ pagedata.pageId }}</dd>
		<dt>Page Number</dt><dd>{{ pagedata.pageNr }}</dd>
		<dt>Image</dt><dd><img src="{{ pagedata.thumbUrl }}"/></dd>
		</dl>

		<p>This page has {{ transcripts|length }} transcript{% if transcripts|length != 1 %}s{% endif %}:</p>
		<table class="table table-striped">
		   <thead>
			<tr><th>ID</th><th>URL</th><th>Status</th><th>Transcriber</th><th>timestamp</th></tr>
		   </thead>
		   <tbody>
		     {% for ts in transcripts %}
			<tr><td><a href="{% url 'transcript' collId docId pagedata.pageNr ts.tsId %}">{{ ts.tsId }}</a></td><td>{{ ts.url }}</td><td>{{ts.status }}</td><td>{{ts.userName }}</td><td>{{ ts.timestamp|print_timestamp }}</td></tr>
		     {% endfor %}
		   </tbody>
		</table>

		<svg marking-surface="" class="svg" height="100%" width="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" style="overflow: hidden; ">

        <g class="pan-zoom svg-pan-zoom_viewport" transform="matrix(1.346467796581459,0,0,1.346467796581459,-377.18131884319206,-93.95161629733094)">

            <g class="rotate-container">
                <image subject="" class="subject" x="0" y="0" height="1007" width="1536" xlink:href="{{ pagedata.url }}"></image>
                <g class="previous-lines">
                </g>

                <g class="annotations">

                    <g class="text-annotations">
                    </g>

                    <g class="graphic-annotations">
                    <g class="graphic-annotation" graphic-annotation="" data="annotation" ng-repeat="annotation in vm.annotations | filter:{type:'graphic'}:true" style="touch-action: pan-y; -webkit-user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
    <rect class="graphic" draggable="data" ng-attr-x="{{ data.x }}" ng-attr-y="{{ data.y }}" ng-attr-height="{{ data.height }}" ng-attr-width="{{ data.width }}" x="315.6" y="10.9" height="48" width="105.59999999999997"></rect>
</g>
                    </g>

                </g>

            </g>


        </g>

    </svg>	
            </div>
        </div>
        <!-- /.row -->

 <script>

    </script>

{% endblock %}
