{% extends "navi_base.html" %}


{% block nav_buttons_out %}
{% include "libraryapp/nav_buttons.html" with out=True %}
{% endblock %}

{% block nav_buttons_in %}
{% include "libraryapp/nav_buttons.html" with out=False %}
{% endblock %}


{% block content %}


    <!-- Page Content -->
    <div class="container">

        <!-- row 1 -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    Collection Browse for {{collection.title}}
                </h1>
	    </div>
            <div class="col-md-4 expandable collections_tree">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4><i class="fa fa-fw fa-check"></i>Fancy tree for documents
			   <a href="#" id="collections_tree_full" class="panel-expand btn btn-default btn-sm pull-right"><span class="glyphicon glyphicon-chevron-right"><span></a>
			   <a href="#" id="collections_tree_mini" class="panel-shrink btn btn-default btn-sm pull-right" style="display: none;"><span class="glyphicon glyphicon-chevron-left"><span></a>
			</h4>
                    </div>
		<p>This collection contains {{ documents|length }} documents:</p>
		<script type="text/javascript">
			var t_data = {{ documents_json|safe }};
			console.log("tdata:",t_data);
		</script>
                    <div class="panel-body" id="collections_tree">
                    </div>
                </div>
            </div>
            <div class="col-md-8 expandable thumbnails">
                <div class="panel panel-default">
                    <div class="panel-heading">
		    	<h4><i class="fa fa-fw fa-gift"></i>Thumbnnails
			   <a href="#" id="thumbnails_full" class="panel-expand btn btn-default btn-sm pull-right"><span class="glyphicon glyphicon-chevron-right"><span></a>
			   <a href="#" id="thumbnails_mini" class="panel-shrink btn btn-default btn-sm pull-right" style="display: none;"><span class="glyphicon glyphicon-chevron-left"><span></a>
			</h4>
                    </div>
                    <div class="panel-body">
			<div class="row">
		  		<div class="documents_intro">
					<p>Use the file tree on the left to select documents and pages for closer inspection. You will see a larger image in this panel</p>
				</div>
			     {% for doc in documents %}
		  		<div id="doc_{{ doc.docId }}" class="document_thumbs">
					<h4><a href="{%  url 'document' collId  doc.docId %}">{{ doc.title }} - {{ doc.author }}</a> <span class="page_title"><a href="#"></a></span></h4>
					     {% for page in doc.children %}
					    <div class="col-md-3 thumb page_thumb" id="page_{{page.key}}">
						<a class="thumbnail" href="{% url 'page' collId doc.docId page.pageNr %}">
						    <img src="{{ page.thumbUrl }}" alt="{{page.title}}" title="{{page.title}} - {{page.pageNr}}"/>
						</a>
					    </div>
					     {% endfor %}
				</div>
			     {% endfor %}
			</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->

{% endblock %}
